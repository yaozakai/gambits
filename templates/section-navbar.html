
<nav class=" navbar-expand-md nav-bar-selector navbar-fixed" >
    <button class="btn nav-link active" id="nav-baccarat" onclick="nav_jump(this);">
<!--            <div>-->
            <h9  class="nav-link-title">{{  translations['baccarat'][session['lang']] }}</h9>
            <img class="navbar-icon" src="{{ root_path }}static/icons/navbar/baccarat.png">
<!--            </div>-->
    </button>
    <hr class="navbar-divider">
    <button class="btn nav-link" id="nav-top-games" onclick="nav_jump(this);">
        <h9  class="nav-link-title">{{  translations['top-games'][session['lang']] }}</h9>
        <img class="navbar-icon" src="{{ root_path }}static/icons/navbar/top-games.png">
    </button>
    <hr class="navbar-divider">
    <button class="btn nav-link" id="nav-fishing" onclick="nav_jump(this);">
        <h9  class="nav-link-title">{{  translations['fishing'][session['lang']] }}</h9>
        <img class="navbar-icon" src="{{ root_path }}static/icons/navbar/fishing.png">
    </button>
    <hr class="navbar-divider">
    <button class="btn nav-link" id="nav-arcade" onclick="nav_jump(this);">
        <h9 class="nav-link-title">{{  translations['arcade'][session['lang']] }}</h9>
        <img class="navbar-icon" src="{{ root_path }}static/icons/navbar/arcade.png">
    </button>
    <hr class="navbar-divider">
    <button class="btn nav-link" id="nav-pvp" onclick="nav_jump(this);">
        <h9  class="nav-link-title">{{  translations['pvp'][session['lang']] }}</h9>
        <img class="navbar-icon" src="{{ root_path }}static/icons/navbar/pvp.png">
    </button>
    <hr class="navbar-divider">
    <button class="btn nav-link " data-bs-toggle="dropdown" id="nav-slots" onclick="nav_jump(this);">
        <h9  class="nav-link-title">{{  translations['slots'][session['lang']] }}</h9>
        <img class="navbar-icon" src="{{ root_path }}static/icons/navbar/slots.png">
    </button>
    <nav class="dropdown-menu navbar-fixed bar-selector " id="slots-dropdown">
        <hr class="navbar-divider">
        <button class="btn nav-link slots-subicon" id="nav-slots-action" onclick="nav_jump(this);">
            <h9  class="nav-link-title slots">{{  translations['slots-action'][session['lang']] }}</h9>
            <img class="navbar-icon slots" src="{{ root_path }}static/icons/navbar/slots/slots-action.png">
        </button>
        <hr class="navbar-divider">
        <button class="btn nav-link slots-subicon" id="nav-slots-animals" onclick="nav_jump(this);">
            <h9 class="nav-link-title slots">{{  translations['slots-animals'][session['lang']] }}</h9>
            <img class="navbar-icon slots" src="{{ root_path }}static/icons/navbar/slots/slots-animals.png">
        </button>
        <hr class="navbar-divider">
        <button class="btn nav-link slots-subicon" id="nav-slots-cute" onclick="nav_jump(this);">
            <h9  class="nav-link-title slots">{{  translations['slots-cute'][session['lang']] }}</h9>
            <img class="navbar-icon slots" src="{{ root_path }}static/icons/navbar/slots/slots-cute.png">
        </button>
        <hr class="navbar-divider">
        <button class="btn nav-link slots-subicon" id="nav-slots-fantasy" onclick="nav_jump(this);">
            <h9  class="nav-link-title slots">{{  translations['slots-fantasy'][session['lang']] }}</h9>
            <img class="navbar-icon slots" src="{{ root_path }}static/icons/navbar/slots/slots-fantasy.png">
        </button>
        <hr class="navbar-divider">
        <button class="btn nav-link slots-subicon" id="nav-slots-jump" onclick="nav_jump(this);">
            <h9  class="nav-link-title slots">{{  translations['slots-jump'][session['lang']] }}</h9>
            <img class="navbar-icon slots" src="{{ root_path }}static/icons/navbar/slots/slots-jump.png">
        </button>
        <hr class="navbar-divider">
        <button class="btn nav-link slots-subicon" id="nav-slots-treasure" onclick="nav_jump(this);">
            <h9  class="nav-link-title slots">{{  translations['slots-treasure'][session['lang']] }}</h9>
            <img class="navbar-icon slots" src="{{ root_path }}static/icons/navbar/slots/slots-treasure.png">
        </button>
    </nav>
</nav>


    {% if session['page'] == 'gallery' %}
    <script>
        // select the target node

        <!--const observerOptions = { attributes: true, childList: true, subtree: true };-->
        var slots_dropdown_popup = document.getElementById('slots-dropdown');
        var nav_slots = document.getElementById('nav-slots');
        var nav_slots_treasure = document.getElementById('nav-slots-treasure');
        var nav_slots_jump = document.getElementById('nav-slots-jump');
        var nav_slots_fantasy = document.getElementById('nav-slots-fantasy');
        var nav_slots_cute = document.getElementById('nav-slots-cute');
        var nav_slots_animals = document.getElementById('nav-slots-animals');
        var nav_slots_action = document.getElementById('nav-slots-action');


<!--        firstScrollSpyEl.forEach(dataSpyEl => {-->
<!--          bootstrap.ScrollSpy.getInstance(dataSpyEl).refresh()-->
<!--        })-->

        slots_dropdown_popup.style.display = "none";

        $(document).ready(function(){

<!--&lt;!&ndash;            var current_page = $('#meta-page').data()['name']&ndash;&gt;-->

<!--            $('.nav-link').on('click', function(){-->
<!--                if (current_page != 'gallery'){-->
<!--                    go_to_gallery($(this).attr("id"))-->

<!--                    const button_clicked = document.getElementById($(this).attr("id")).scrollIntoView()-->
<!--&lt;!&ndash;                    console.log(button_clicked)&ndash;&gt;-->

<!--&lt;!&ndash;                    var header = document.getElementById('header-slots').scrollIntoView();&ndash;&gt;-->
<!--                }-->
<!--            });-->

            let timer;

            $('#main-body').scroll(function(){
                document.querySelector('#main-body').addEventListener('scroll', hideCoverBar);
                document.querySelector('#main-body').addEventListener('mousemove', hideCoverBar);
                var showTimeout;
                function hideCoverBar() {
                  document.querySelector('.cover-bar').classList.add('hidden');
                  clearTimeout(showTimeout);
                  showTimeout = setTimeout(showCoverBar, 1000);

                }
                function showCoverBar() {
                  document.querySelector('.cover-bar').classList.remove('hidden');
                }


<!--                $('#main-body').addClass('scroll')-->
<!--                clearTimeout(timer);-->
<!--                timer = setTimeout(function() {-->
<!--                    $('#main-body').removeClass('scroll')-->
<!--                }, 100);-->

                $('.slots-subicon').each(function () {
                    if ($(this).is('.active')) {
                        nav_slots.classList.add('active')
                        slots_dropdown_popup.style.display = "block";
                    }
                });
            });


        });

        function callback(mutations) {



            if (nav_slots_treasure.classList.contains('active')) {
                nav_slots.classList.add('active');
                slots_dropdown_popup.style.display = "block";
            } else if (nav_slots_jump.classList.contains('active')) {
                nav_slots.classList.add('active');
                slots_dropdown_popup.style.display = "block";
            } else if (nav_slots_fantasy.classList.contains('active')) {
                nav_slots.classList.add('active');
                slots_dropdown_popup.style.display = "block";
            } else if (nav_slots_cute.classList.contains('active')) {
                nav_slots.classList.add('active');
                slots_dropdown_popup.style.display = "block";
            } else if (nav_slots_animals.classList.contains('active')) {
                nav_slots.classList.add('active');
                slots_dropdown_popup.style.display = "block";
            } else if (nav_slots_action.classList.contains('active')) {
                nav_slots.classList.add('active');
                slots_dropdown_popup.style.display = "block";
            } else {
                nav_slots.classList.remove('active');

                slots_dropdown_popup.style.display = "none";
            }
        }
<!--        let observer = new MutationObserver(callback);-->

<!--        observer.observe(nav_slots, observerOptions);-->


    </script>
    {% endif %}